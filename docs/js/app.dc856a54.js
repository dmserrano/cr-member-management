(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],m=0,d=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/cr-member-management/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"1e96":function(e,t,r){"use strict";r("be76")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Navbar"),r("div",{staticClass:"row mx-5"},[e._m(0),r("div",{staticClass:"col-md-4 mt-5"},[r("ClanTagInput",{attrs:{clanTag:e.clanTag,fetchClanRiverRaceData:e.fetchClanRiverRaceData,isLoading:e.isLoading,setClanTag:e.setClanTag}})],1)]),e.name?r("div",{staticClass:"row m-5"},[r("ClanHeaderCard",{staticClass:"col-lg-6 col-md-12",attrs:{clanScore:e.clanScore,clanWarTrophies:e.clanWarTrophies,currentMemberCount:e.currentMemberCount,name:e.name,tag:e.tag}}),r("RiverRaceTable",{staticClass:"col-md-12 mt-5",attrs:{memberList:e.memberList,riverRaceLog:e.riverRaceLog,tag:e.tag}})],1):e._e()],1)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-8 mt-5"},[r("h2",[e._v("Clan Wars Member Management")]),r("div",{},[r("p",[e._v("View weekly contributions for Clan Wars to more accurately determine which members have been more or less involved.")]),r("p",[e._v("Start by entering your clan tag to view members weekly contributions. After that, you can add filters to view which members have met a specific contribution goal or not.")])])])}],s=(r("b0c0"),r("15fd")),o=(r("96cf"),r("1da1")),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"},[e._v(e._s(e.name))]),r("div",{staticClass:"d-flex"},[r("div",{staticClass:"text-muted me-3"},[e._v(e._s(e.tag))]),r("div",{staticClass:"text-muted me-3"},[e._v("Clan Score: "+e._s(e.clanScore))]),r("div",{staticClass:"text-muted me-3"},[e._v("Clan War Trophies: "+e._s(e.clanWarTrophies))]),r("div",{staticClass:"text-muted"},[e._v("Member Count: "+e._s(e.currentMemberCount))])])])])},c=[],u=(r("a9e3"),{props:{clanScore:{type:Number,required:!0},clanWarTrophies:{type:Number,required:!0},currentMemberCount:{type:Number,required:!0},name:{type:String,required:!0},tag:{type:String,required:!0}}}),m=u,d=r("2877"),p=Object(d["a"])(m,l,c,!1,null,null,null),b=p.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"input-group mb-3"},[r("input",{staticClass:"form-control",attrs:{type:"text",id:"clan-tag-search",placeholder:"Clan Tag"},domProps:{value:e.clanTag},on:{input:e.setClanTag}}),r("button",{staticClass:"btn btn-outline-secondary d-flex align-items-center",attrs:{type:"button"},on:{click:e.handleFetch}},[e.isLoading?[r("span",{staticClass:"me-1"},[e._v("Loading...")]),r("span",{staticClass:"spinner-border spinner-border-sm"})]:r("span",[e._v("Search")])],2)])])},v=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"form-label",attrs:{for:"clan-tag-search"}},[e._v(" Search for Clan "),r("small",[e._v("(exclude hashtag)")])])}],g=(r("caad"),r("2532"),{props:{clanTag:{type:String,required:!0},fetchClanRiverRaceData:{type:Function,required:!0},isLoading:{type:Boolean,required:!0},setClanTag:{type:Function,required:!0}},methods:{handleFetch:function(){return this.clanTag?this.clanTag.includes("#")?alert("Please do not include a hash (#) in the clan tag."):void this.fetchClanRiverRaceData():alert("Please input a clan tag")}}}),h=g,C=Object(d["a"])(h,f,v,!1,null,null,null),_=C.exports,y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},T=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar navbar-light bg-light"},[r("div",{staticClass:"container-fluid"},[r("span",{staticClass:"navbar-brand mb-0 h1"},[e._v("CR Member Management")])])])}],R={},S=Object(d["a"])(R,y,T,!1,null,null,null),M=S.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row"},[r("MemberFilterForm",{staticClass:"col-lg-6 col-md-5 mb-5",attrs:{minContribution:e.memberFilters.minContribution,targetContribution:e.memberFilters.targetContribution,updateMemberFilters:e.updateMemberFilters}}),r("VueGoodTable",{attrs:{columns:e.columns,rows:e.memberList}})],1)])},L=[],O=(r("99af"),r("7db0"),r("d81d"),r("2909")),P=r("3835"),x=r("5530"),F=(r("dac4"),r("f617")),E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"},[e._v("Member Filter Settings")]),r("p",[e._v("These settings can be used to visually display if members have met certain criteria.")]),r("div",{staticClass:"d-flex"},[r("div",{staticClass:"me-5"},[e._m(0),r("input",{staticClass:"form-control",attrs:{type:"number",id:"min-contribution",name:"minContribution",placeholder:"0 fame + repairs"},domProps:{value:e.minContribution},on:{blur:e.updateMemberFilters}})]),r("div",[e._m(1),r("input",{staticClass:"form-control",attrs:{type:"number",id:"target-contribution",placeholder:"2000 fame + repairs",name:"targetContribution"},domProps:{value:e.targetContribution},on:{blur:e.updateMemberFilters}})])])])])},j=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"form-label",attrs:{for:"min-contribution"}},[e._v(" Min Contribution "),r("small",[e._v("(per week)")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"form-label",attrs:{for:"target-contribution"}},[e._v(" Target Contribution "),r("small",[e._v("(per week)")])])}],q={props:{minContribution:{Type:[Number,String],required:!0},targetContribution:{Type:[Number,String],required:!0},updateMemberFilters:{Type:Function,required:!0}}},N=q,k=Object(d["a"])(N,E,j,!1,null,null,null),A=k.exports,V=[{label:"Rank",field:"clanRank",type:"number"},{label:"Player",field:"name",tdClass:"fw-bold"},{label:"Role",field:"role",tdClass:"text-capitalize"}],U={components:{MemberFilterForm:A,VueGoodTable:F["a"]},props:{memberList:{type:Array,required:!0},tag:{type:String,required:!0},riverRaceLog:{type:Array,required:!0}},data:function(){return{columns:V,currentSeasonMap:{},flattenedStandings:[],memberFilters:{minContribution:"",targetContribution:""}}},methods:{updateMemberFilters:function(e){var t=e.target;this.memberFilters[t.name]=t.value},seasonFieldFilterClass:function(e,t){var r=e.tag,n=this.getCurrentPlayerMapValue(r,t),a=this.memberFilters,i=a.minContribution,s=void 0===i?"":i,o=a.targetContribution,l=void 0===o?"":o;return s&&l&&""!==n?n<=s?"bg-light-red":n>s&&n<l?"bg-light-yellow":n>=l?"bg-light-green":"":""},formatFlattenedStandings:function(){var e=this;this.flattenedStandings.length||(this.flattenedStandings=this.riverRaceLog.map((function(t){var r=t.standings,n=r.find((function(t){var r=t.clan;return r.tag===e.tag}));return Object(x["a"])(Object(x["a"])({},t),{},{standings:[n]})})))},formatColumns:function(){var e=this,t=this.flattenedStandings.map((function(t){var r=t.seasonId,n=t.sectionIndex,a=t.standings,i=Object(P["a"])(a,1),s=i[0],o=s.clan.participants,l="".concat(r,"-").concat(n+1);return{label:l,field:function(t){return e.seasonFieldHandler(t,o,l)},thClass:"text-center",tdClass:function(t){return e.seasonFieldFilterClass(t,l)},type:"number"}}));this.columns=[].concat(V,Object(O["a"])(t))},seasonFieldHandler:function(e,t,r){var n=e.tag,a=this.getCurrentPlayerMapValue(n,r);if(a)return a;var i=t.find((function(e){return e.tag===n})),s=i||{},o=s.fame,l=void 0===o?"":o,c=s.repairPoints,u=void 0===c?"":c;return this.setCurrentSeasonMap(i,r),l+u},setCurrentSeasonMap:function(e,t){var r=e||0,n=r.fame,a=void 0===n?"":n,i=r.repairPoints,s=void 0===i?"":i,o=r.tag,l=void 0===o?"":o;this.currentSeasonMap[t]||(this.currentSeasonMap[t]={}),l&&!this.currentSeasonMap[t][l]&&(this.currentSeasonMap[t][l]=a+s)},getCurrentPlayerMapValue:function(e,t){var r=this.currentSeasonMap[t]&&this.currentSeasonMap[t][e];return void 0===r?"":r||0},refreshTable:function(){this.formatFlattenedStandings(),this.formatColumns()}},mounted:function(){this.refreshTable()},watch:{riverRaceLog:function(){this.refreshTable()},"memberFilters.minContribution":function(){this.refreshTable()},"memberFilters.targetContribution":function(){this.refreshTable()}}},$=U,D=(r("1e96"),Object(d["a"])($,w,L,!1,null,null,null)),I=D.exports,W=r("bc3a"),H=r.n(W),B=Object({NODE_ENV:"production",VUE_APP_PRODUCTION_API_URL:"https://cr-member-management-api.herokuapp.com/api/v1",VUE_APP_DEVELOPMENT_API_URL:"http://localhost:5000/api/v1",BASE_URL:"/cr-member-management/"}),G=B.NODE_ENV,J=B.VUE_APP_PRODUCTION_API_URL,z=B.VUE_APP_DEVELOPMENT_API_URL,K="production"===G?J:z,Q=H.a.create({baseURL:K,headers:{Accept:"application/json"}}),X=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,Q.get(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e["catch"](1),e.abrupt("return",{error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X("/riverrace/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z={name:"App",components:{ClanHeaderCard:b,ClanTagInput:_,Navbar:M,RiverRaceTable:I},data:function(){return{clanScore:0,clanWarTrophies:0,clanTag:"",isLoading:!1,memberList:[],name:"",riverRaceLog:[],tag:""}},computed:{currentMemberCount:function(){return this.memberList.length}},methods:{fetchClanRiverRaceData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Y(e.clanTag);case 3:r=t.sent,n=r.memberList,a=r.riverRaceLog,i=Object(s["a"])(r,["memberList","riverRaceLog"]),e.isLoading=!1,e.clanScore=i.clanScore,e.clanWarTrophies=i.clanWarTrophies,e.memberList=n,e.name=i.name,e.riverRaceLog=a,e.tag=i.tag;case 14:case"end":return t.stop()}}),t)})))()},setClanTag:function(e){var t=e.target;this.clanTag=t.value}}},ee=Z,te=(r("034f"),Object(d["a"])(ee,a,i,!1,null,null,null)),re=te.exports;r("21b6");n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(re)}}).$mount("#app")},"85ec":function(e,t,r){},be76:function(e,t,r){}});
//# sourceMappingURL=app.dc856a54.js.map